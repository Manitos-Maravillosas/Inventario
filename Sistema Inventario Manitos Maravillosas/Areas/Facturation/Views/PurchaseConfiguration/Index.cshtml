@model Sistema_Inventario_Manitos_Maravillosas.Areas.Facturation.Models.Bill
@{
    ViewData["Title"] = "View PDF";
}
<section class="secctionFixed">
    <div class="divMoney-container">
        <div id="optionsMoney" class="card divMoney">
            <div class="card-body p-2">
                <label class="form-label mb-1">Ver sistema en:</label>
                <div class="checkbox-container w-15 mb-2" role="radiogroup" aria-labelledby="CobrarPorLabel">
                    <div class="form-check form-check-inline radio-item  mt-0">
                        <input id="usdRadio" type="radio" name="radioMoney" value="1" role="radio" aria-label="Opción Cliente" @(Model.optionMoney == 1 ? "checked" : "")>
                        <label for="usdRadio">Dólar ($ USD) </label>
                    </div>
                    <div class="form-check form-check-inline radio-item mt-0">
                        <input id="nicRadio" type="radio" name="radioMoney" value="2" role="radio" aria-label="Opción Manitos Maravillosas" @(Model.optionMoney == 2 ? "checked" : "")>
                        <label for="nicRadio">Córdoba (C$ NIC)  </label>
                    </div>

                </div>
                <label class="form-label mb-1">Cambio del dólar:</label>
                <div class="input-group mb-3 d-flex align-items-center">
                    <span class="input-group-text" id="basic-addon1"><span class="">$</span></span>
                    <input disabled type="number" class="form-control" placeholder="1.00">
                    <span class="px-2"> <i class="bi bi-chevron-double-right"></i></span>
                    <span class="input-group-text" id="basic-addon1"><span class="">C$</span></span>
                    <input id="exchangeMoney" type="number" class="form-control" placeholder="36.68" value="36.68">
                </div>

                <div class="divButtonMoney-container">
                    <button id="divMoneyButton" type="button"><i class="bi bi-chevron-double-down"></i> Moneda</button>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="container-fluid content-page w-100 px-3 py3">
    <div class="d-flex justify-content-between mb-2 align-items-center">
        <h3 class="m-0">Cobrar Factura</h3>
        <a class="fs-3 px-1" asp-area="Facturation" asp-controller="Purchase" asp-action="Index">
            <i class="bi bi-chevron-left"></i>
        </a>
    </div>
    <div class="row">
        <div class="pdfViewer pb-2 col-6">
            <div class="pdfController d-flex justify-content-between px-2 py-1 mb-2">
                <div class="pdfControllerPage">
                    <button id="pageUp-button" class="pdf-IconButton p-1"><i class="bi bi-chevron-up"></i></button>
                    <button id="pageDown-button" class="pdf-IconButton p-1"><i class="bi bi-chevron-down"></i></button>
                    <span class="text-white">Page 1</span>
                </div>
                <div class="pdfControllersZoom">
                    <button id="minusPlus-button" class="pdf-IconButton p-1"><i class="bi bi-dash"></i></button>
                    <button id="zoomPlus-button" class="pdf-IconButton p-1"><i class="bi bi-plus-lg"></i></button>
                    <span class="text-white">100%</span>
                </div>
                <div class="pdfControllerButtons">

                    <button class="pdf-IconButton p-1"><i class="bi bi-printer"></i></button>
                    <button id="download-button" class="pdf-IconButton p-1"><i class="bi bi-download"></i></button>
                </div>
            </div>

            <div class="d-flex justify-content-center mb-2">
                <canvas id="pdf-canvas" class="justify-content-center"></canvas>
            </div>
        </div>

        <div class="col-6 h-100">
            <div class="card">
                <div class="card-body">
                    <h4>
                        Gestión de Cobro
                    </h4>

                    <form asp-controller="PurchaseConfiguration" asp-action="PurchaseComplete" method="post">
                 
                      @*   <!--Cargar todos los métodos de pago que hay-->
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                            <label class="form-check-label" for="flexCheckDefault">
                                Efectivo
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" checked>
                            <label class="form-check-label" for="flexCheckChecked">
                                Cuenta
                            </label>
                        </div> *@
                        <!--this select should querry from the data base-->
                        <div class="mb-3">
                            <label asp-for="billxTypePayment.typePaymentxCoin.idTypePayment" class="control-label mb-2">Tipo de Pago</label>
                            <div class="select-wrapper">
                                <select id="typePaymentSelect" asp-for="billxTypePayment.typePaymentxCoin.idTypePayment" class="form-control" asp-items="ViewBag.TypePaymentSelect">
                                    <option disabled selected>Seleccione un tipo de Pago</option>
                                </select>
                            </div>
                            <span asp-validation-for="billxTypePayment.typePaymentxCoin.idTypePayment" class="text-danger"></span>
                        </div>

                        <div id="allowMixPaymentDiv" class="form-check form-switch mb-3 d-none">
                            <input asp-for="mixPayment" class="form-check-input" type="checkbox" id="flexSwitchCheckDefault">
                            <label class="form-check-label" for="flexSwitchCheckDefault">Habilitar Pago Mixto</label>
                        </div>

                        <div id="bankAccountId" class="mb-3 d-none">
                            <label asp-for="bankAccount.IdBank" class="control-label mb-2">Banco</label>
                            <div class="select-wrapper">
                                <select asp-for="bankAccount.IdBank" class="form-control" asp-items="ViewBag.BankSelect">
                                    <option disabled selected>Seleccione un Banco</option>
                                </select>
                            </div>
                        </div>

                        <div id="radioCoin" class="mb-3">
                            <label class="form-label">Moneda</label>
                            <div class="checkbox-container full-width" role="radiogroup" aria-labelledby="CobrarPorLabel">
                                @foreach (var gender in ViewBag.CoinSelect)
                                {
                                    <div class="form-check form-check-inline radio-item">
                                        <input type="radio" asp-for="billxTypePayment.typePaymentxCoin.idCoin" value="@gender.Value" id="radio-@gender.Text" class="form-check-input" />
                                        <label class="form-check-label" for="radio-@gender.Text">
                                            @gender.Text
                                        </label>
                                    </div>

                                }
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-primary w-100">
                            Facturar <i class="bi bi-cash-stack"></i>
                        </button>
                    </form>

                </div>
            </div>
           

        </div>
    </div>
</section>



@section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.6.347/pdf.min.js"></script>
    <script>
        var pdfUrl = '@Url.Action("GeneratePdf", "PurchaseConfiguration", new { area = "Facturation" })';
    </script>
    <script src="~/js/facturation/pdfscript.js"></script>
    <script src="~/js/facturation/moneyscriptconfig.js"></script>
    <script src="~/js/facturation/purchaseconfig.js"></script>
}
